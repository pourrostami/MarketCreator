
بسم الله الرحمن الرحیم


سلام دوستانم


مرور کنیم تا کجا پیش رفتیم و ادامه بدیم

برای ثبت نام کنترلر اکانت کنترلر درست کردیم که از سایت بیس کنترلر خودمون ارث بری میکنه

دوتا اکشن داریم که یکی گت هست که ویوی مربوطه رو احضار میکنه
مدل رجیستر دی تی او رو هم براش ساختیم
قراره از شماره موبایل برای ثبت نام استفاده کنیم که از سرویس اس ام اس و فرستادن کد به موبایل هم استفاده میکنیم
ان شاءالله

خب در ویو اطلاعات رو از کاربر میگیریم و پست میکنیم به اکشن رجیستر از نوع اچ تی تی پی پست

خب کار کدنویسیمون اینجا شروع میشه
در معماری پیازمون دیتالیر با دیتابیس سر و کله میزنه یعنی با کمک ریپازیتوریش

خب لایه ی وب هم که تکلیفش مشخصه
این بین اپلیکیشن هست که واسط بین دیتالیر و وب هستش
کدهارو اپلیکیشن مینویسیم

حالا سرویسهارو در اپلیکیشن مینویسیم
ریپازیتوری رو در پروگرم سی اس معرفی کردیم پس میتونیم تزریق کنیم هر جا که خواستیم
همینو در اپلیکیشن استفاده میکنیم

حالا برای ثبت نام مقادیر رو از اکشن پست میفرستیم به سرویس
بیایین بنویسیم
کدی که دی تی او رو میگیره و در دیتابیس ثبتش میکنه 

اسمیشو بذاریم رجیستر یوزر ای سینک
خب برای چک کردن نتیجه ثبت نام چند حالت داریم

یا همچی شماره موبایلی از قبل در دیتابیس هست یعنی قبلا باهاش ثبت نام شده و ایز اکتیوش هم ترو هست
پس پیام میفرستیم موبایل هستش از قبل

یا از قبل ثبت نام صورت گرفته شده ولی ناقص رها شده یعنی کد ارسالی به موبایل در صفحه ی درخواست  شده
وارد نشده پس ایزاکتیوش ترو نشده و فالز هست  اگه اینطور باشه اون  قسمت رو پاک میکنیم و ثبت نام رو ادامه میدیم

یا خالص از قبل همچی موبایلی در دیتابیس نبوده و راحت ثبت نام صورت میگیره
دوستان دو متد رو همینجای کار بنویسیم که معمولا به کارمون میاد  یکی گرفتن مقادیر یوزر با استفاده از آی دی
یکی هم با استفاده از شماره موبایل

دوستان پسورد رو هم باید هش کنیم

بریم یه اینام درست کنیم از حالتهای ذکر شده

خب اینکارو کردیم که وقتی شماره موبایل وارد شده برای ثبت نام در دیتابیس نبوده باشه پس ثبتش میکنیم
برای تکمیل ثبت  باید پسورد رو هم هش کنیم که باشه ویدیو بعدی ان شاءالله

:)
